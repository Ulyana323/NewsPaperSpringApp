<databaseChangeLog xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
   http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.4.xsd">
<changeSet id="create-table-news_n_comments" author="Ulyana">

<preConditions onFail="MARK_RAN">
    <not>
        <tableExists tableName="news_n_comments"/>
    </not>
</preConditions>
<createTable tableName="news_n_comments">
<column name="comment_id" type="int">
    <constraints nullable="false" primaryKey="true" primaryKeyName="news_n_comments_pkey"/>
</column>
<column name="news_id" type="int">
    <constraints nullable="false" primaryKey="true" primaryKeyName="news_n_comments_pkey"/>
</column>
</createTable>
    <addForeignKeyConstraint
            constraintName="news_n_comments_comment_id_fkey"
            baseTableName="news_n_comments"
            baseColumnNames="comment_id"
            referencedTableName="comments"
            referencedColumnNames="id"
    />
    <addForeignKeyConstraint
            constraintName="news_n_comments_news_id_fkey"
            baseTableName="news_n_comments"
            baseColumnNames="news_id"
            referencedTableName="news"
            referencedColumnNames="id"/>
        </changeSet>

</databaseChangeLog>